{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["console.log('Hello');\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// –ó–Ω–∞—Ö–æ–¥–∏–º–æ DOM-–µ–ª–µ–º–µ–Ω—Ç–∏\nconst startBtn = document.querySelector('[data-start]');\nconst dateInput = document.querySelector('#datetime-picker');\n\nconst daysEl = document.querySelector('[data-days]');\nconst hoursEl = document.querySelector('[data-hours]');\nconst minutesEl = document.querySelector('[data-minutes]');\nconst secondsEl = document.querySelector('[data-seconds]');\n\nlet selectedTime = null; // –í–∏–±—Ä–∞–Ω–∞ –¥–∞—Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º\nlet countdownInterval = null; // ID —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É, —â–æ–± –∑—É–ø–∏–Ω—è—Ç–∏ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ\n\n// –î–µ–∞–∫—Ç–∏–≤—É—î–º–æ –∫–Ω–æ–ø–∫—É –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ\nstartBtn.disabled = true;\n\n// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è flatpickr –∑ –æ–ø—Ü—ñ—è–º–∏\nflatpickr(dateInput, {\n  enableTime: true, // –î–æ–∑–≤–æ–ª—è—î –≤–∏–±—ñ—Ä —á–∞—Å—É\n  time_24hr: true, // –§–æ—Ä–º–∞—Ç 24-–≥–æ–¥–∏–Ω–Ω–∏–π\n  defaultDate: new Date(), // –ü–æ—Ç–æ—á–Ω–∞ –¥–∞—Ç–∞\n  minuteIncrement: 1, // –ö—Ä–æ–∫ –≤–∏–±–æ—Ä—É —Ö–≤–∏–ª–∏–Ω\n  onClose(selectedDates) {\n    // –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–±—Ä–∞–≤ –¥–∞—Ç—É\n    const pickedDate = selectedDates[0];\n    const now = new Date();\n\n    if (pickedDate <= now) {\n      // –Ø–∫—â–æ –¥–∞—Ç–∞ –≤ –º–∏–Ω—É–ª–æ–º—É ‚Äî –ø–æ–∫–∞–∑—É—î–º–æ –ø–æ–º–∏–ª–∫—É\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n      });\n      startBtn.disabled = true;\n    } else {\n      // –Ø–∫—â–æ –¥–∞—Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω–∞ ‚Äî –∞–∫—Ç–∏–≤—É—î–º–æ –∫–Ω–æ–ø–∫—É\n      selectedTime = pickedDate;\n      startBtn.disabled = false;\n    }\n  },\n});\n\n// –û–±—Ä–æ–±–Ω–∏–∫ –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ä—Ç—É\nstartBtn.addEventListener('click', () => {\n  if (!selectedTime) return;\n\n  startBtn.disabled = true;\n  dateInput.disabled = true; // –ó–∞–±–æ—Ä–æ–Ω—è—î–º–æ –∑–º—ñ–Ω—É –¥–∞—Ç–∏ –ø—ñ–¥ —á–∞—Å –≤—ñ–¥–ª—ñ–∫—É\n\n  countdownInterval = setInterval(() => {\n    const now = new Date();\n    const diff = selectedTime - now;\n\n    if (diff <= 0) {\n      clearInterval(countdownInterval);\n      updateTimerDisplay(0);\n      iziToast.success({\n        title: 'Done!',\n        message: 'Countdown completed üéâ',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    updateTimerDisplay(diff);\n  }, 1000);\n});\n\n// –û–Ω–æ–≤–ª–µ–Ω–Ω—è DOM –∑–Ω–∞—á–µ–Ω—å (–¥–Ω—ñ–≤, –≥–æ–¥–∏–Ω, —Ö–≤–∏–ª–∏–Ω, —Å–µ–∫—É–Ω–¥)\nfunction updateTimerDisplay(ms) {\n  const { days, hours, minutes, seconds } = convertMs(ms);\n\n  daysEl.textContent = addLeadingZero(days);\n  hoursEl.textContent = addLeadingZero(hours);\n  minutesEl.textContent = addLeadingZero(minutes);\n  secondsEl.textContent = addLeadingZero(seconds);\n}\n\n// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥ —É –¥–Ω—ñ, –≥–æ–¥–∏–Ω–∏, —Ö–≤–∏–ª–∏–Ω–∏, —Å–µ–∫—É–Ω–¥–∏\nfunction convertMs(ms) {\n  const sec = 1000;\n  const min = sec * 60;\n  const hour = min * 60;\n  const day = hour * 24;\n\n  return {\n    days: Math.floor(ms / day),\n    hours: Math.floor((ms % day) / hour),\n    minutes: Math.floor((ms % hour) / min),\n    seconds: Math.floor((ms % min) / sec),\n  };\n}\n\n// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤–µ–¥—É—á–æ–≥–æ –Ω—É–ª—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ 08 –∑–∞–º—ñ—Å—Ç—å 8)\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n"],"names":["startBtn","dateInput","daysEl","hoursEl","minutesEl","secondsEl","selectedTime","countdownInterval","flatpickr","selectedDates","pickedDate","iziToast","diff","updateTimerDisplay","ms","days","hours","minutes","seconds","convertMs","addLeadingZero","value"],"mappings":"2FAAA,QAAQ,IAAI,OAAO,EAQnB,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,kBAAkB,EAErDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EAAe,KACfC,EAAoB,KAGxBP,EAAS,SAAW,GAGpBQ,EAAUP,EAAW,CACnB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQQ,EAAe,CAErB,MAAMC,EAAaD,EAAc,CAAC,EAG9BC,GAFQ,IAAI,MAIdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,UAClB,CAAO,EACDX,EAAS,SAAW,KAGpBM,EAAeI,EACfV,EAAS,SAAW,GAEvB,CACH,CAAC,EAGDA,EAAS,iBAAiB,QAAS,IAAM,CAClCM,IAELN,EAAS,SAAW,GACpBC,EAAU,SAAW,GAErBM,EAAoB,YAAY,IAAM,CAEpC,MAAMK,EAAON,EADD,IAAI,KAGhB,GAAIM,GAAQ,EAAG,CACb,cAAcL,CAAiB,EAC/BM,EAAmB,CAAC,EACpBF,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,yBACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDE,EAAmBD,CAAI,CACxB,EAAE,GAAI,EACT,CAAC,EAGD,SAASC,EAAmBC,EAAI,CAC9B,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAE,EAEtDZ,EAAO,YAAckB,EAAeL,CAAI,EACxCZ,EAAQ,YAAciB,EAAeJ,CAAK,EAC1CZ,EAAU,YAAcgB,EAAeH,CAAO,EAC9CZ,EAAU,YAAce,EAAeF,CAAO,CAChD,CAGA,SAASC,EAAUL,EAAI,CAMrB,MAAO,CACL,KAAM,KAAK,MAAMA,EAAK,KAAG,EACzB,MAAO,KAAK,MAAOA,EAAK,MAAO,IAAI,EACnC,QAAS,KAAK,MAAOA,EAAK,KAAQ,GAAG,EACrC,QAAS,KAAK,MAAOA,EAAK,IAAO,GAAG,CACxC,CACA,CAGA,SAASM,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC"}